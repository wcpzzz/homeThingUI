{"version":3,"sources":["webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/main.js","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/getCoupons/getCoupons.vue?436e","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/getCoupons/getCoupons.vue?5bca","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/getCoupons/getCoupons.vue?3632","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/getCoupons/getCoupons.vue?b59e","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/getCoupons/getCoupons.vue","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/getCoupons/getCoupons.vue?56d5","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/getCoupons/getCoupons.vue?b4fd"],"names":["createPage","Page","onLoad","options","color","BASECOLOR","ossDownloadUrl","HTTPCONFIG","from","COMMONFUNCTION","getStorageByKey","then","data","params","split","realScene","aes","Decrypt","console","log","queryByRealScene","removeStorageByKey","catch","e","uni","showToast","icon","title","q","JSON","stringify","decodeURIComponent","substring","length","couponCode","shopId","grpId","coupon","hasRegist","cantReceiveReason","canReceive","ownType","onPullDownRefresh","listAllCouponByArgs","methods","scenceArray","toDetail","path","toPage","getCard","res","redirectPage","showError","mpGetUserInfo","detail","userInfo","toSetting","getCode","code","nickName","avatarUrl","grpCode","login","$refs","notify","show","COLORCONFIG","danger","stopPullDownRefresh","rc","unRegist","Object","rcDetail","String","userAgreement","privAgreement"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,4G;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAwlB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkE5mB;AACA,iF,8FAnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAKe,EACdC,MADc,kBACPC,OADO,EACE,kBAEf,KAAKC,KAAL,GAAW,KAAKC,SAAhB,CACA,KAAKC,cAAL,GAAsB,KAAKC,UAAL,CAAgBD,cAAtC,CACA,IAAGH,OAAO,CAACK,IAAR,IAAc,CAAjB,EAAmB,CAClB,KAAKC,cAAL,CAAoBC,eAApB,CAAoC,WAApC,EAAiDC,IAAjD,CAAsD,UAAAC,IAAI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","file":"pages/getCoupons/getCoupons.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/getCoupons/getCoupons.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./getCoupons.vue?vue&type=template&id=208a89ba&\"\nvar renderjs\nimport script from \"./getCoupons.vue?vue&type=script&lang=js&\"\nexport * from \"./getCoupons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./getCoupons.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"ss-vip-customer-Cilent/pages/getCoupons/getCoupons.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getCoupons.vue?vue&type=template&id=208a89ba&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"expTimeFilter\")(_vm.coupon.beginDate)\n\n  var f1 = _vm._f(\"expTimeFilter\")(_vm.coupon.expDate)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getCoupons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getCoupons.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {login,isReceiveCoupon,regist,receiveCoupon,listAllCouponByArgs} from '@/common/api.js'\nimport aes from '@/utils/aes.js'\n\nexport default {\n\tonLoad(options) {\n\n\t\tthis.color=this.BASECOLOR;\n\t\tthis.ossDownloadUrl = this.HTTPCONFIG.ossDownloadUrl;\n\t\tif(options.from==1){\n\t\t\tthis.COMMONFUNCTION.getStorageByKey('qrCodeUrl').then(data=>{\n\t\t\t\tvar params=data.split('?')[1];\n\t\t\t\tvar realScene;\n\t\t\t\tif(params){\n\t\t\t\t\trealScene=aes.Decrypt(params)\n\t\t\t\t\tconsole.log(realScene)\n\t\t\t\t}\n\t\t\t\tthis.queryByRealScene(realScene);\n\t\t\t\tthis.COMMONFUNCTION.removeStorageByKey('qrCodeUrl')\n\t\t\t}).catch(e=>{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon:'none',\n\t\t\t\t\ttitle:'获取优惠券信息错误',\n\t\t\t\t})\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tvar q=JSON.stringify(decodeURIComponent(options.q));\n\t\tq= q.substring(1,q.length-1);\n\t\tvar params=q.split('?')[1];\n\t\tvar realScene;\n\t\tif(params){\n\t\t\trealScene=aes.Decrypt(params)\n\t\t\tconsole.log(realScene)\n\t\t}\n\t\tif(!realScene){\n\t\t\tuni.showToast({\n\t\t\t\ticon:'none',\n\t\t\t\ttitle:'获取优惠券信息错误',\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tthis.queryByRealScene(realScene);\n\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcolor:'',\n\t\t\tcouponCode:'',\n\t\t\tshopId:'',\n\t\t\tgrpId:'',\n\t\t\tcoupon:'',\n\t\t\thasRegist:false,\n\t\t\tossDownloadUrl:'',\n\t\t\tcantReceiveReason:'',\n\t\t\tcanReceive:true,\n\t\t\townType:'',//券的所属\n\t\t}\n\t},\n\n\tonPullDownRefresh() {\n\t\t//查询优惠券\n\t\tthis.listAllCouponByArgs();\n\t},\n\n\tmethods: {\n\t\tqueryByRealScene(realScene){\n\t\t\tvar scenceArray=realScene.split('-');\n\t\t\tvar couponCode=scenceArray[0];\n\t\t\tif(scenceArray.length>=2){\n\t\t\t\tvar shopId=scenceArray[1];\n\t\t\t}\n\n\t\t\tif(couponCode){\n\t\t\t\tthis.couponCode=couponCode;\n\t\t\t\tif(shopId){\n\t\t\t\t\tthis.shopId=shopId;\n\t\t\t\t}\n\t\t\t\t//查询优惠券\n\t\t\t\tthis.listAllCouponByArgs();\n\t\t\t}else{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon:'none',\n\t\t\t\t\ttitle:'获取优惠券信息错误',\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\ttoDetail(path){\n\t\t\tthis.COMMONFUNCTION.toPage(path);\n\t\t},\n\t\tgetCard(){\n\t\t\treceiveCoupon(this.grpId,this.couponCode,this.shopId).then(res=>{\n\t\t\t\tthis.COMMONFUNCTION.redirectPage(\"/pages/mycards-and-coupon/mycards-and-coupon\")\n\t\t\t}).catch(res=>{\n\t\t\t\t\tthis.showError(res)\n\t\t\t})\n\t\t},\n\t\tmpGetUserInfo(res){\n\t\t\tif(this.hasRegist){\n\t\t\t\t//注册过了。直接领卡\n\t\t\t\tthis.getCard();\n\t\t\t}else{\n\t\t\t\tif(!res.detail.userInfo){\n\t\t\t\t\t//授权失败\n\t\t\t\t\tthis.COMMONFUNCTION.toSetting(\"授权失败,请开启授权\")\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.COMMONFUNCTION.getCode().then(code=>{\n\t\t\t\t\t//注册\n\t\t\t\t\tlet userInfo=res.detail.userInfo;\n\t\t\t\t\t//注册来源1 领券\n\t\t\t\t\tregist(code,userInfo.nickName,1,this.ownType,this.grpId,userInfo.avatarUrl,this.shopId).then(res=>{\n\t\t\t\t\t\t//注册成功。直接领卡\n\t\t\t\t\t\tthis.getCard();\n\t\t\t\t\t}).catch(res=>{\n\t\t\t\t\t\tthis.showError(res)\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t}\n\t\t},\n\n\t\tlistAllCouponByArgs(){\n\t\t\tlistAllCouponByArgs(this.couponCode).then(res=>{\n\t\t\t\tthis.coupon=res.data;\n\t\t\t\tthis.grpId=res.data.grpCode;\n\t\t\t\tthis.ownType=res.data.ownType;\n\t\t\t\t//登录\n\t\t\t\tthis.login();\n\t\t\t}).catch(e=>{\n\t\t\t\tthis.$refs.notify.show(JSON.stringify(e),this.COLORCONFIG.danger)\n\t\t\t})\n\t\t},\n\t\tlogin(){\n\t\t\tthis.COMMONFUNCTION.getCode().then(code=>{\n\t\t\t\tlogin(code,this.grpId,true).then(res=>{\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t//已注册过(在这个商户下有记录，可能是优惠券，也可能是会员卡) 检查是否已领取过该商户的会员卡\n\t\t\t\t\tthis.hasRegist=true;\n\t\t\t\t\t//检查是否可领\n\t\t\t\t\tisReceiveCoupon(this.grpId,this.couponCode).then(()=>{\n\t\t\t\t\t\t//可以领取\n\t\t\t\t\t\tthis.canReceive=true;\n\t\t\t\t\t}).catch(data=>{\n\t\t\t\t\t\tthis.canReceive=false;\n\t\t\t\t\t\tthis.cantReceiveReason=data;\n\t\t\t\t\t})\n\t\t\t\t}).catch((res)=>{\n\n\t\t\t\t\t//未注册过该商户 注册并领卡\n\t\t\t\t\tif(res.rc && res.rc===this.HTTPCONFIG.unRegist){\n\t\t\t\t\t\t//未注册\n\t\t\t\t\t\tthis.hasRegist=false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.showError(res)\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t})\n\n\t\t},\n\t\tshowError(res){\n\t\t\tif( res instanceof(Object) ){\n\t\t\t\tthis.$refs.notify.show(res.rcDetail,this.COLORCONFIG.danger)\n\t\t\t}else if( res instanceof(String) ){\n\t\t\t\tthis.$refs.notify.show(res,this.COLORCONFIG.danger)\n\n\t\t\t}else{\n\t\t\t\tthis.$refs.notify.show('未知错误',this.COLORCONFIG.danger)\n\n\t\t\t}\n\t\t},\n\t\tuserAgreement(){\n\t\t\tthis.COMMONFUNCTION.toPage('/pages/about-content/userAgreement')\n\t\t},\n\t\tprivAgreement(){\n\t\t\tthis.COMMONFUNCTION.toPage('/pages/about-content/privacyAgreement')\n\n\t\t}\n\n\n\t}\n}\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getCoupons.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getCoupons.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589785569270\n      var cssReload = require(\"C:/Users/Administrator/Downloads/yinshishixi/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}