{"version":3,"sources":["webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/main.js","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycoupon/mycoupon.vue?fd03","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycoupon/mycoupon.vue?8627","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycoupon/mycoupon.vue?0faa","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycoupon/mycoupon.vue?7da5","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycoupon/mycoupon.vue","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycoupon/mycoupon.vue?909f","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycoupon/mycoupon.vue?f146"],"names":["createPage","Page","time","onLoad","options","couponCode","couponId","uni","setNavigationBarColor","backgroundColor","frontColor","ossDownloadUrl","HTTPCONFIG","onShow","query","filters","to4Dfs","value","replace","data","color","height","width","coupon","expTime","payToken","onUnload","clearInterval","Timer","methods","createQrCode","url","canvasId","cavW","cavH","QR","api","draw","toDetail","COMMONFUNCTION","saveStorage","then","toPage","couponInfo","res","couponColor","generateToken","catch","e","$refs","notify","show","COLORCONFIG","danger","grpCode","holdTime","setInterval"],"mappings":"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","file":"pages/mycoupon/mycoupon.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/mycoupon/mycoupon.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./mycoupon.vue?vue&type=template&id=1badd8cc&\"\nvar renderjs\nimport script from \"./mycoupon.vue?vue&type=script&lang=js&\"\nexport * from \"./mycoupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mycoupon.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"ss-vip-customer-Cilent/pages/mycoupon/mycoupon.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycoupon.vue?vue&type=template&id=1badd8cc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"to4Dfs\")(_vm.payToken)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycoupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycoupon.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst time=60;\n\nimport QR from '@/utils/qrcode.js'\nimport {queryCouponCanUsed,generateCouponToken} from '@/common/api.js'\nexport default {\n\tonLoad(options) {\n\t\tthis.couponCode=options.couponCode;\n\t\tthis.couponId=options.couponId;\n\t\tuni.setNavigationBarColor({\n\t\t\tbackgroundColor:'#FFFFFF',\n\t\t\tfrontColor:'#ffffff',\n\t\t})\n\t\tthis.ossDownloadUrl = this.HTTPCONFIG.ossDownloadUrl;\n\t\t\n\t},\n\t\n\tonShow() {\n\t\tthis.query();\n\t\t\n\t},\n\tfilters:{\n\t\tto4Dfs(value){\n\t\t\tif(value)\n\t\t\t\tvalue=value.replace(/(.{4})/g, \"$1 \");\n\t\t\treturn value;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tossDownloadUrl:'',\n\t\t\tcolor:'',\n\t\t\theight: 250,\n\t\t\twidth: 250,\n\t\t\tcoupon:{\n\t\t\t\t\n\t\t\t},\n\t\t\tcouponId:'',\n\t\t\tcouponCode:'',\n\t\t\texpTime:'',\n\t\t\tpayToken:''\n\t\t}\n\t},\n\t\t\n\tonUnload(){\n\t\tclearInterval(this.Timer);\n\t},\n\n\tmethods: {\n\t\tcreateQrCode(url, canvasId, cavW, cavH) {\n\t\t    QR.api.draw(url, canvasId, cavW, cavH);\n\t\t},\n\t\ttoDetail(){\n\t\t\tthis.COMMONFUNCTION.saveStorage(\"selectedCoupon\",this.coupon).then(()=>{\n\t\t\t\tthis.COMMONFUNCTION.toPage(\"/pages/mycoupon/details\")\n\t\t\t})\n\t\t},\n\t\tquery(){\n\t\t\tif(!this.coupon.couponInfo){\n\t\t\t\tqueryCouponCanUsed(1,1,'',this.couponId,this.couponCode,'',true).then(res=>{\n\t\t\t\t\tthis.coupon=res.data[0];\n\t\t\t\t\tuni.setNavigationBarColor({\n\t\t\t\t\t\tbackgroundColor:this.coupon.couponInfo.couponColor,\n\t\t\t\t\t\tfrontColor:'#ffffff',\n\t\t\t\t\t})\n\t\t\t\t\tthis.generateToken();\n\t\t\t\t}).catch(e=>{\n\t\t\t\t\tthis.$refs.notify.show(e, this.COLORCONFIG.danger);\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tthis.generateToken();\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tTimer(){\n\t\t\t\n\t\t},\n\t\t\n\t\tgenerateToken(){\n\t\t\tclearInterval(this.Timer);\n\t\t\tgenerateCouponToken(this.coupon.couponId,this.coupon.couponInfo.grpCode,time+30,1).then(res=>{\n\t\t\t\tthis.createQrCode(res.data.payToken, 'mycanvas', this.height, this.width);\n\t\t\t\tthis.payToken=res.data.payToken;\n\t\t\t\tthis.expTime=time;\n\t\t\t\tlet holdTime = time;\n\t\t\t\tthis.Timer = setInterval(()=>{\n\t\t\t\t\tif(holdTime<=0){\n\t\t\t\t\t\tthis.generateToken();\n\t\t\t\t\t\treturn ;\n\t\t\t\t\t}\n\t\t\t\t\tholdTime--;\n\t\t\t\t\tthis.expTime=holdTime;\n\t\t\t\t\t\n\t\t\t\t},1000)\n\t\t\t}).catch(e=>{\n\t\t\t\tthis.$refs.notify.show(e, this.COLORCONFIG.danger);\n\t\t\t\t\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycoupon.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycoupon.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589785569052\n      var cssReload = require(\"C:/Users/Administrator/Downloads/yinshishixi/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}