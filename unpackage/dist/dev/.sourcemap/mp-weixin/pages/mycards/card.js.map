{"version":3,"sources":["webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/main.js","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycards/card.vue?12b4","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycards/card.vue?8435","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycards/card.vue?9c52","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycards/card.vue?7cfa","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycards/card.vue","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycards/card.vue?90b5","webpack:///C:/Users/Administrator/Downloads/yinshishixi/ss-vip-customer-Cilent/pages/mycards/card.vue?4cc8"],"names":["createPage","Page","time","onPullDownRefresh","grpId","cardId","then","res","uni","stopPullDownRefresh","cardInfo","cardOwnList","cardFunctions","content","cardTypePo","discount","custInfo","currPoints","beginDate","formatDate","expDate","data","use","closeExpired","tips","onLoad","options","color","BASECOLOR","ossDownloadUrl","HTTPCONFIG","filters","to4Dfs","value","replace","timeout","height","width","payToken","title","path","myTools","icon","tempFilePath","showCode","Timer","onUnload","clearInterval","methods","slice","toDetail","index","COMMONFUNCTION","toPage","toToolDetail","custCode","showQrCode","createQrCode","catch","showError","url","canvasId","cavW","cavH","QR","api","draw","setTimeout","canvasToTempImage","showModal","hideModal","setTimerOut","canvasToTempFilePath","success","holdTime","setInterval","console","log","Object","$refs","notify","show","rcDetail","COLORCONFIG","danger","String"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,4F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAklB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwErmB;AACA,0D,8FAzED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKC,IAAMC,IAAI,GAAC,GAAX,C,eACe,EACdC,iBADc,+BACM,mBAClB;AACA,wBAAU,CAAV,EAAY,KAAKC,KAAjB,EAAuB,KAAKC,MAA5B,EAAoCC,IAApC,CAAyC,UAAAC,GAAG,EAAE,CAC7CC,GAAG,CAACC,mBAAJ,GACA,KAAI,CAACC,QAAL,GAAc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","file":"pages/mycards/card.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/mycards/card.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./card.vue?vue&type=template&id=c29be6e6&\"\nvar renderjs\nimport script from \"./card.vue?vue&type=script&lang=js&\"\nexport * from \"./card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./card.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"ss-vip-customer-Cilent/pages/mycards/card.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./card.vue?vue&type=template&id=c29be6e6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"to4Dfs\")(_vm.cardInfo.cardCode)\n\n  var f1 = _vm._f(\"to4Dfs\")(_vm.payToken)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./card.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport QR from '@/utils/qrcode.js'\n\timport {queryCard,showPayCode,countOfGrp} from '@/common/api.js'\n\t\n\tconst time=120;\n\texport default {\n\t\tonPullDownRefresh() {\n\t\t\t\t//查卡信息\n\t\t\t\tqueryCard(2,this.grpId,this.cardId).then(res=>{\n\t\t\t\t\tuni.stopPullDownRefresh(); \n\t\t\t\t\tthis.cardInfo=res.cardOwnList[0];\n\t\t\t\t\t//折扣\n\t\t\t\t\tthis.cardFunctions[3].content=this.cardInfo.cardTypePo.discount==10?'无':this.cardInfo.cardTypePo.discount;\n\t\t\t\t\t//余额\n\t\t\t\t\tthis.cardFunctions[0].content='0';\n\t\t\t\t\t//积分\n\t\t\t\t\tthis.cardFunctions[1].content=this.cardInfo.custInfo.currPoints;\n\t\t\t\t\tthis.cardInfo.cardTypePo.beginDate=this.formatDate(this.cardInfo.cardTypePo.beginDate);\n\t\t\t\t\tthis.cardInfo.cardTypePo.expDate=this.formatDate(this.cardInfo.cardTypePo.expDate);\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t//查优惠券数量信息\n\t\t\t\tcountOfGrp(this.grpId).then(res=>{\n\t\t\t\t\t//优惠券\n\t\t\t\t\tthis.cardFunctions[2].content=res.data.use;\n\t\t\t\t\tif(res.data.closeExpired!==0){\n\t\t\t\t\t\tthis.cardFunctions[2].tips=res.data.closeExpired+'张快过期';\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\n\t\t},\n\t\tonLoad(options) {\n\t\t\tif(options.cardId && options.grpId){\n\t\t\t\tthis.grpId=options.grpId;\n\t\t\t\t//查卡信息\n\t\t\t\tqueryCard(2,options.grpId,options.cardId).then(res=>{\n\t\t\t\t\tthis.cardInfo=res.cardOwnList[0];\n\t\t\t\t\t//折扣\n\t\t\t\t\tthis.cardFunctions[3].content=this.cardInfo.cardTypePo.discount==10?'无':this.cardInfo.cardTypePo.discount;\n\t\t\t\t\t//余额\n\t\t\t\t\tthis.cardFunctions[0].content='0';\n\t\t\t\t\t//积分\n\t\t\t\t\tthis.cardFunctions[1].content=this.cardInfo.custInfo.currPoints;\n\t\t\t\t\tthis.cardInfo.cardTypePo.beginDate=this.formatDate(this.cardInfo.cardTypePo.beginDate);\n\t\t\t\t\tthis.cardInfo.cardTypePo.expDate=this.formatDate(this.cardInfo.cardTypePo.expDate);\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t//查优惠券数量信息\n\t\t\t\tcountOfGrp(this.grpId).then(res=>{\n\t\t\t\t\t//优惠券\n\t\t\t\t\tthis.cardFunctions[2].content=res.data.use;\n\t\t\t\t\tif(res.data.closeExpired!==0){\n\t\t\t\t\t\tthis.cardFunctions[2].tips=res.data.closeExpired+'张快过期';\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.color=this.BASECOLOR;\n\t\t\tthis.ossDownloadUrl = this.HTTPCONFIG.ossDownloadUrl;\n\t\t\t\n\t\t},\n\t\tfilters:{\n\t\t\tto4Dfs(value){\n\t\t\t\tif(value){\n\t\t\t\t\tvalue=value.replace(/(.{4})/g, \"$1 \");\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tossDownloadUrl:'',\n\t\t\t\ttimeout:time,\n\t\t\t\tcolor:'',\n\t\t\t\t// 二维码大小\n                height: 250,\n                width: 250,\n\t\t\t\tcardInfo:'',\n\t\t\t\tgrpId:'',\n\t\t\t\tpayToken:'',\n\t\t\t\tcardFunctions:[\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle:'余额',\n\t\t\t\t\t\tcontent:'199.20',\n\t\t\t\t\t\tpath:'',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle:'积分',\n\t\t\t\t\t\tcontent:'256',\n\t\t\t\t\t\tpath:'/pages/mycards/myPoints',\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle:'优惠券(张)',\n\t\t\t\t\t\tcontent:'0',\n\t\t\t\t\t\ttips:'',\n\t\t\t\t\t\tpath:'/pages/mycoupon/mycoupons'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle:'折扣',\n\t\t\t\t\t\tcontent:'9.5',\n\t\t\t\t\t\tpath:''\n\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\tmyTools:[{\n\t\t\t\t\t\ttitle:'我的账单',\n\t\t\t\t\t\ticon:'iconzhangdan',\n\t\t\t\t\t\tpath:'/pages/mycards/myTrans',\n\t\t\t\t\t\tcolor:'#00aa00'\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle:'个人资料',\n\t\t\t\t\t\ticon:'iconziliao',\n\t\t\t\t\t\tpath:'/pages/mycards/myData',\n\t\t\t\t\t\tcolor:'#3895ff'\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle:'设置',\n\t\t\t\t\t\ticon:'iconsettings',\n\t\t\t\t\t\tpath:'/pages/mycards/mySetting',\n\t\t\t\t\t\tcolor:'#dda50f'\t\t\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttitle:'关于',\n\t\t\t\t\t// \ticon:'iconguanyu',\n\t\t\t\t\t// \tpath:'',\n\t\t\t\t\t// \tcolor:'#696969'\n\t\t\t\t\t\t\n\t\t\t\t\t// },\n\t\t\t\t\t],\t\n\t\t\t\ttempFilePath:'',\n\t\t\t\tshowCode:false,\n\t\t\t}\n\t\t},\n\t\tTimer(){\n\t\t\t\n\t\t},\n\t\tonUnload(){\n\t\t\tclearInterval(this.Timer);\n\t\t},\n\t\tmethods: {\n\t\t\tformatDate(value){\n\t\t\t\tif(value)\n\t\t\t\treturn value.slice(0,4)+'-'+value.slice(4,6)+'-'+value.slice(6);\n\t\t\t\telse return '';\n\t\t\t},\n\t\t\ttoDetail(index,path){\n\t\t\t\tif(index==2){\n\t\t\t\t\tthis.COMMONFUNCTION.toPage(path+'?grpId='+this.grpId);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(index==1){\n\t\t\t\t\tthis.COMMONFUNCTION.toPage(path+'?grpId='+this.grpId);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(index==3 || index==0){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.COMMONFUNCTION.toPage(path);\n\t\t\t},\n\t\t\ttoToolDetail(index,path){\n\t\t\t\tif(index==0){\n\t\t\t\t\tthis.COMMONFUNCTION.toPage(path+'?grpId='+this.grpId);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(index==1){\n\t\t\t\t\tthis.COMMONFUNCTION.toPage(path+'?grpCode='+this.grpId+'&custCode='+this.cardInfo.custInfo.custCode);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.COMMONFUNCTION.toPage(path);\n\t\t\t},\n\t\t\tshowQrCode(){\n\t\t\t\tshowPayCode(this.cardInfo.custInfo.custCode,time+30).then(res=>{\n\t\t\t\t\tclearInterval(this.Timer);\n\t\t\t\t\tthis.payToken=res.payToken;\n\t\t\t\t\tthis.createQrCode(res.payToken, 'mycanvas', this.height, this.width);\n\t\t\t\t}).catch((res)=>{\n\t\t\t\t\tthis.showError(res);\n\t\t\t\t})\n\t\t\t},\n\t\t\tcreateQrCode(url, canvasId, cavW, cavH) {\n\t\t\t    QR.api.draw(url, canvasId, cavW, cavH);\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.canvasToTempImage();\n\t\t\t\t\tthis.showModal();\n\t\t\t\t\t\n\t\t\t\t},0)\n\t\t\t},\n\t\t\t\n\t\t\thideModal(){\n\t\t\t\tthis.showCode=false;\n\t\t\t\tclearInterval(this.Timer);\n\t\t\t\tthis.timeout=time;\n\t\t\t\t\n\t\t\t},\n\t\t\tshowModal(){\n\t\t\t\tthis.setTimerOut();\n\t\t\t\tthis.showCode=true;\n\t\t\t},\n\t\t\tcanvasToTempImage(){\n\t\t\t   uni.canvasToTempFilePath({\n\t\t\t\t\tcanvasId:'mycanvas',\n\t\t\t\t\tsuccess:(res)=> {\n\t\t\t\t\t\tthis.tempFilePath = res.tempFilePath;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tTimer(){\n\t\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\tsetTimerOut(){\n\t\t\t\tlet holdTime = time;\n\t\t\t\tthis.Timer = setInterval(()=>{\n\t\t\t\t\tif(holdTime<=0){\n\t\t\t\t\t\tthis.showQrCode();\n\t\t\t\t\t\treturn ;\n\t\t\t\t\t}\n\t\t\t\t\tholdTime--;\n\t\t\t\t\tthis.timeout=holdTime;\n\t\t\t\t\t\n\t\t\t\t},1000)\n\t\t\t},\n\t\t\tshowError(res){\n\t\t\t\tconsole.log(res);\n\t\t\t\tif( res instanceof(Object) ){\n\t\t\t\t\tthis.$refs.notify.show(res.rcDetail,this.COLORCONFIG.danger)\n\t\t\t\t}else if( res instanceof(String) ){\n\t\t\t\t\tthis.$refs.notify.show(res,this.COLORCONFIG.danger)\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tthis.$refs.notify.show('未知错误',this.COLORCONFIG.danger)\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./card.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./card.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589785568763\n      var cssReload = require(\"C:/Users/Administrator/Downloads/yinshishixi/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}